options_trading:
  # Global master flag for options/derivatives. When false, the entire options
  # stack (ETL, signal generation, execution) must remain disabled.
  enabled: false

  # Environment overrides:
  # - ENABLE_OPTIONS=true    # runtime toggle
  # - OPTIONS_CONFIG_PATH=path/to/custom.yml

  # Portfolio-level barbell guardrails for options risk.
  barbell:
    # Maximum share of total portfolio risk sleeve that may be allocated to
    # options/derivative exposures. The outer barbell still constrains
    # safe vs risk buckets overall.
    max_options_weight: 0.20       # 20% of NAV at most in options

    # Maximum cumulative premium at risk (long options) as a fraction of NAV
    # over the evaluation horizon.
    max_premium_pct_nav: 0.05      # risk at most 5% of NAV in option premia

  # Default constraints per asset class inside the options sleeve.
  asset_class_limits:
    equity_index:
      max_weight: 0.15
    single_name_equity:
      max_weight: 0.10
    fx:
      max_weight: 0.10
    commodity:
      max_weight: 0.10
    frontier_equity:
      max_weight: 0.05

  # Default option selection bands; the higher-order hyperopt driver may treat
  # these as search-space seeds.
  selection:
    # Moneyness in percent for candidate OTM calls/puts.
    moneyness:
      call_otm_min_pct: 5.0
      call_otm_max_pct: 25.0
      put_otm_min_pct: 5.0
      put_otm_max_pct: 25.0

    # Expiry windows (calendar days).
    expiry_days:
      min_days: 14
      max_days: 90

  # Tickers / underlyings for which options are allowed. If empty, the
  # options stack must remain inert even when ENABLE_OPTIONS=true.
  allowed_underlyings:
    - AAPL
    - MSFT
    - SPY
    - QQQ

