forecaster_monitoring:
  regression_metrics:
    # CI/brutal-friendly thresholds: faster gating with minimal warmup.
    baseline_model: BEST_SINGLE
    max_rmse_ratio_vs_baseline: 1.1
    max_violation_rate: 0.25

    # Lower counts so CI fails quickly on regressions.
    min_effective_audits: 3
    holding_period_audits: 5
    promotion_margin: 0.0

    fail_on_violation_during_holding_period: true
    disable_ensemble_if_no_lift: true
    min_lift_rmse_ratio: 0.00
    min_lift_fraction: 0.10

    # Preselection hard gate in CI profile.
    strict_preselection_gate_enabled: true
    strict_preselection_max_rmse_ratio: 1.0
    strict_preselection_recent_window: 5
    strict_preselection_min_effective_audits: 3

    # Adversarial-suite thresholds (blocking in CI).
    adversarial_suite:
      max_ensemble_under_best_rate: 1.00
      max_avg_ensemble_ratio_vs_best: 1.20
      max_ensemble_worse_than_rw_rate: 0.30
      require_zero_errors: true

  quant_validation:
    max_fail_fraction: 0.90
    max_negative_expected_profit_fraction: 0.5

  # SARIMAX convergence-budget gate (blocking in CI).
  # Rates are computed against adversarial suite total runs.
  sarimax_convergence_budget:
    max_primary_nonconverged_rate: 0.50
    max_fallback_nonconverged_rate: 0.20
    max_fallback_usage_rate: 0.50
