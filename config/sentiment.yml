# Sentiment integration scaffold (disabled until profitability gates pass)
enabled: false
status: dormant

gating:
  require_positive_pnl_days: [90, 180]
  min_sharpe: 1.1
  max_drawdown: 0.22
  min_win_rate: 0.52
  min_trade_count: 30
  benchmark: local_risk_free_plus_etf_proxy

sources:
  news:
    cache_ttl_minutes: 120
    providers:
      - name: gdelt
        enabled: true
        rate_limit_per_min: 30
      - name: newsapi
        enabled: false
        api_key_env: NEWSAPI_KEY
        daily_cap: 90
      - name: google_news_rss
        enabled: true
        rate_limit_per_min: 20
  social:
    providers:
      - name: reddit
        enabled: false
        client_id_env: REDDIT_CLIENT_ID
        client_secret_env: REDDIT_CLIENT_SECRET
        user_agent: portfolio-maximizer-sentiment/0.1
      - name: stocktwits
        enabled: false
      - name: x_api
        enabled: false

models:
  fast_lexicon: vader
  transformer: ProsusAI/finbert
  fallback_transformer: cardiffnlp/twitter-roberta-base-sentiment
  max_batch_size: 16
  device: auto

features:
  ewma_windows: [3, 7, 14]
  clamp_range: [-3, 3]
  disagreement_alert: true
  burst_threshold: 3.0
  missing_data_behavior: passthrough  # no adjustment when features missing

adjustments:
  max_position_nudge_pct: 0.15
  conflict_filter_enabled: true
  alignment_boost_pct: 0.05

storage:
  root: data/sentiment
  sqlite_db: data/sentiment/sentiment.db
  parquet_path: data/sentiment/documents.parquet

ops:
  dry_run: true
  log_level: info
  retry_limit: 2
