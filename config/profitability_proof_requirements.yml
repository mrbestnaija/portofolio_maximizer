# Profitability Proof Requirements Configuration
# Part of Critical Profitability Analysis & Remediation Plan (Phase 6)
#
# These requirements ensure that claimed performance metrics represent
# REAL profitability from actual trading, not contaminated test data.

profitability_proof_requirements:
  # Data Quality Requirements
  data_quality:
    min_data_source_coverage: 1.0  # 100% of trades must have data_source
    max_synthetic_ticker_pct: 0.0  # 0% synthetic tickers allowed
    allowed_execution_modes: ["live", "paper"]  # Exclude backtest/synthetic modes

  # Statistical Significance Requirements
  statistical_significance:
    min_closed_trades: 30       # At least 30 completed round-trips (BUY -> SELL)
    min_trading_days: 21        # At least 1 month of trading
    max_win_rate: 0.85          # Win rate > 85% is statistically suspicious
    min_win_rate: 0.35          # Win rate < 35% indicates unprofitable strategy

  # Performance Requirements (for proof to be considered valid)
  performance:
    min_profit_factor: 1.1      # Gross profit / gross loss >= 1.1
    max_drawdown: 0.30          # Max 30% drawdown allowed
    min_sharpe_ratio: 0.3       # Risk-adjusted returns threshold

  # Audit Trail Requirements
  audit_trail:
    require_pipeline_id: false  # Require pipeline_id tracking (set true for production)
    require_run_id: false       # Require run_id tracking (set true for production)
    require_entry_exit_matching: true  # Every SELL must have a matching BUY

  # Alert Thresholds (for dashboard warnings)
  alerts:
    warn_on_high_win_rate: 0.80     # Warn if win rate exceeds this
    warn_on_unbalanced_actions: 5   # Warn if BUY/SELL ratio exceeds this
    warn_on_missing_exits: 0.20     # Warn if >20% of positions have no exit
